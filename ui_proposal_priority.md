# ステータス優先度設定 UI 提案

ステータスの優先順位（`>`, `>=`, `=`）を指定するためのUI案を提案します。

## 案1: リスト並び替え + 演算子セレクター（推奨）

選択されたステータスを一列に並べ、各ステータスの間に「演算子変更ボタン」を配置する方式です。

### イメージ
```text
[ 会心率 ]
   ⬇
  ( > )  <-- クリックで切り替え ( >  →  >=  →  = )
   ⬇
[ 会心ダメ ]
   ⬇
  ( >= )
   ⬇
[ 攻撃力 ]
```

### 操作フロー
1. 必要なステータスを選択（チェックボックス等）すると、優先度リストに追加される。
2. リスト内のステータスをドラッグ＆ドロップで並び替える（上にあるほど優先）。
3. ステータス間のアイコンをクリックして関係性（`>`, `>=`, `=`）を指定する。

### メリット
- **柔軟性**: ユーザーの要望する3つの演算子すべてを直感的に表現可能。
- **省スペース**: 縦一列（または横一列）で完結する。

---

## 案2: ティア（階層）グループ方式

ステータスを「最優先」「優先」「許容」などのグループ（箱）にドラッグ＆ドロップで振り分ける方式です。

### イメージ
```text
【 優先度: 高 (>) 】
  [ 会心率 ]

      ⬇ (常に > )

【 優先度: 中 (>=) 】
  [ 会心ダメ ] [ 速度 ]  <-- 同じ箱の中は (=) 扱い

      ⬇ (常に >= )

【 優先度: 低 】
  [ 攻撃力 ]
```

### 操作フロー
1. ステータスをプールから各優先度ボックスへドラッグする。
2. ボックス間の関係（`>` か `>=` か）はボックス間にあるスイッチで設定する。

### メリット
- **視認性**: パッと見てどれが重要かグループとして理解しやすい。
- **管理**: 「これらは同列」という設定が楽。

### デメリット
- 「A > B > C = D >= E」のような細かいチェーンを作る場合、箱の数が多くなり複雑になる。

---

## データ構造への影響（共通）

現在の `StatType[]` （単なる配列）から、以下のような構造への変更が必要になります。

```typescript
type Operator = '>' | '>=' | '=';

interface WeightedStat {
    stat: StatType;
    operator: Operator; // 次のアイテムとの関係（最後のアイテムは無視）
}

// 変更前
// subStats: ['CritRate', 'CritDMG']

// 変更後
// subStats: [
//   { stat: 'CritRate', operator: '>' }, 
//   { stat: 'CritDMG', operator: '>=' },
//   { stat: 'Attack', operator: '=' } // 最後はoperator使わない
// ]
```

## 推奨
**案1** がユーザーの要望（3つの演算子を使い分ける）に最も忠実かつ、UI実装も既存のリストUIの延長で作れるためおすすめです。
どちらの方向性がお好みか、あるいは別のイメージがあるかご教示ください。
